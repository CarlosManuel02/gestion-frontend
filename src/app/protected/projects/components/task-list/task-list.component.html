<h2>
  <span>Task List</span>
</h2>

<nz-table #taskTable [nzData]="tasks" [nzBordered]="false" [nzSize]="'small'">
  <thead>
  <tr>
    <th nzWidth="20%">Name</th>
    <th nzWidth="10%"
        [nzSortOrder]="'ascend'"
        [nzSortFn]="sortTable"
        [nzSortDirections]="['ascend', 'descend', null]"

    >Status</th>
    <th nzWidth="10%">Creation Date</th>
    <th nzWidth="10%">Deadline</th>
    <th nzWidth="10%">Priority</th>
    <th nzWidth="10%">Assignment</th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let task of taskTable.data" style="cursor: pointer"
      (click)="viewTask(task)">
    <td>{{ task.task_name }}</td>
    <td>{{ task.task_status }}</td>
    <td>{{ task.task_creation_date | date: 'dd/MM/yyyy' }}</td>
    <td>{{ task.task_deadline | date: 'dd/MM/yyyy' }}</td>
    <td>
      <nz-tag *ngIf="task.task_priority === 1" nzColor="green">Low</nz-tag>
      <nz-tag *ngIf="task.task_priority === 2" nzColor="orange">Medium</nz-tag>
      <nz-tag *ngIf="task.task_priority === 3" nzColor="red">High</nz-tag>
    </td>
    <td>
    <app-user-display [userId]="task.task_assignment"></app-user-display>
    </td>
    <td>
      <span nz-icon
            nzType="more"
            nzTheme="outline"
            nz-popover
            nzPopoverPlacement="bottomRight"
            nzPopoverTrigger="click"
            style="right: 50px"
            [nzPopoverContent]="notificationTemplate"
            >
         <ng-template #notificationTemplate>
      <div style="max-height: 300px; overflow-y: auto; overflow-x: hidden;">
       <button nz-button nzType="text" (click)="editTask(task)">Edit</button>
        <button nz-button nzDanger nzType="text" (click)="deleteTask(task)">Delete</button>
      </div>

    </ng-template>
      </span>
    </td>
  </tr>
  </tbody>
</nz-table>
